import{E as B}from"./base.89b248b3.js";import{E as C,a as x,b as V}from"./el-form-item.2b766df0.js";import{_ as k,E as D}from"./plugin-vue_export-helper.7cdfbcd0.js";import{E as I}from"./el-input.3b7d04e2.js";import{a as y,ao as c,h as S,e as R,l as f,i as e,j as t,u as s,aS as b,aT as N,o as q,q as L,aR as M,aV as P,aW as T,aX as U,aY as j,av as i}from"./index.a8fa77aa.js";const H=n=>(b("data-v-e05e6f14"),n=n(),N(),n),W={class:"loginBox"},X={class:"loginSmallBox"},Y=H(()=>f("div",{class:"title"},"\u53E9\u4E01\u72FC\u5546\u54C1\u7BA1\u7406\u7CFB\u7EDF",-1)),z=L("\u63D0\u4EA4"),G=y({setup(n){const v=M(),E=P(),a=c({username:"admin",pwd:"123456"}),g=c({username:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A!",trigger:"blur"}],pwd:[{validator:(u,o,l)=>{o.trim()||l("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),l()},trigger:"blur"}]}),m=S(),F=()=>{m.value.validate().then(()=>{console.log("\u6821\u9A8C\u901A\u8FC7"),T({username:a.username,password:a.pwd}).then(u=>{u.code===200?(U.set("token",u.data.tokenHead+u.data.token),j().then(o=>{o.code===200&&(E.commit("updateMenus",o.data.menus),v.push("/home"))})):V({type:"error",message:u.message})})}).catch(()=>{console.log("\u6821\u9A8C\u5931\u8D25")})};return(u,o)=>{const l=i("avatar"),p=B,_=I,r=C,h=i("lock"),A=D,w=x;return q(),R("div",W,[f("div",X,[Y,e(w,{ref_key:"ruleFormRef",ref:m,model:s(a),"status-icon":"",rules:s(g),class:"demo-ruleForm el-form-item__content"},{default:t(()=>[e(r,{prop:"username"},{default:t(()=>[e(_,{modelValue:s(a).username,"onUpdate:modelValue":o[0]||(o[0]=d=>s(a).username=d),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},{prefix:t(()=>[e(p,null,{default:t(()=>[e(l)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{prop:"pwd"},{default:t(()=>[e(_,{type:"password",modelValue:s(a).pwd,"onUpdate:modelValue":o[1]||(o[1]=d=>s(a).pwd=d),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{prefix:t(()=>[e(p,null,{default:t(()=>[e(h)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(A,{type:"primary",onClick:F},{default:t(()=>[z]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}});var ee=k(G,[["__scopeId","data-v-e05e6f14"]]);export{ee as default};
