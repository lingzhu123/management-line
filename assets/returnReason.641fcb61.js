import{E as ne}from"./base.89b248b3.js";import{E as de,a as ie}from"./el-switch.17320569.js";import{b,E as re,a as me}from"./el-form-item.2b766df0.js";import{E as ce}from"./el-input.3b7d04e2.js";import{E as pe,a as _e,b as fe,c as ge}from"./el-table-column.7600f834.js";import{E as Ee,a as Fe}from"./el-select.3625e3c0.js";import"./el-popper.38e30641.js";import"./el-tooltip.4930db31.js";import{_ as be,E as he}from"./plugin-vue_export-helper.7cdfbcd0.js";import{E as ve,a as ye,d as Ce}from"./el-breadcrumb-item.174304d7.js";import{a as we,ba as Be,h as c,ao as R,o as Ve,e as De,l as i,i as e,j as o,ah as Re,u as l,k as j,F as xe,q as d,aS as ke,aT as Te,bk as L,bl as Se,bm as M,bn as Ae,bo as Ue,av as ze}from"./index.a8fa77aa.js";const Ie=h=>(ke("data-v-2c97c9ee"),h=h(),Te(),h),Ye={class:"topBox"},Pe=d("\u9996\u9875"),je=d("\u8BA2\u5355"),Le=d("\u9000\u8D27\u539F\u56E0\u8BBE\u7F6E"),Me=Ie(()=>i("div",{class:"fenge"},null,-1)),Ne={class:"content"},$e={class:"form2"},He={style:{"line-height":"32px"}},qe=d("\u6570\u636E\u5217\u8868 "),Oe=d("\u6DFB\u52A0"),We={class:"form3"},Ge=d("\u7F16\u8F91"),Je=d("\u5220\u9664"),Ke={style:{"margin-top":"20px",display:"flex","justify-content":"space-between"}},Qe=d("\u786E\u5B9A"),Xe={class:"dialog-footer"},Ze=d("\u53D6\u6D88"),et=d("\u786E\u5B9A"),tt={class:"dialog-footer"},at=d("\u53D6\u6D88"),ot=d("\u786E\u5B9A"),lt=we({async setup(h){let v,x,C=1,w=5;const k=([v,x]=Be(()=>L(C,w)),v=await v,x(),v);let B=c(k.data.list),T=c(k.data.total);const p=async()=>{const u=await L(C,w);B.value=u.data.list,T.value=u.data.total},N=async(u,t)=>{await Se(t,u),p(),b({message:"\u4FEE\u6539\u72B6\u6001\u6210\u529F",type:"success"})},$=u=>{ge.confirm("\u662F\u5426\u8981\u8FDB\u884C\u8BE5\u5220\u9664\u64CD\u4F5C?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{await M([u]),p(),b({type:"success",message:"\u5220\u9664\u6210\u529F"})})};let E=[],S=[];const H=u=>{u.forEach(t=>{E.includes(t.id)||E.push(t.id)}),console.log(E),S=[...E],E.splice(0)},q=async()=>{await M(S),p()},f="140px",F=c(!1),n=R({status:!0,name:"",sort:0,id:"",createTime:""}),O=()=>{F.value=!0},W=async()=>{if(!n.name){b({message:"\u8BF7\u8F93\u5165\u9000\u8D27\u539F\u56E0",type:"error"});return}F.value=!1,await Ae({createTime:"",id:1,name:n.name,sort:n.sort,status:n.status==!1?0:1}),b({message:"\u6DFB\u52A0\u6210\u529F",type:"success"}),p(),n.name=""},A=R({user:"",region:""}),U=c(1),z=c(5),G=c(!1),J=c(!1),K=async u=>{w=u,p()},Q=async u=>{C=u,p()};let r=c(!1);const s=R({status:!0,name:"",sort:0,id:0,createTime:""}),X=u=>{r.value=!0,B.value.forEach(t=>{t.id===u&&(s.status=t.status===1,s.name=t.name,s.sort=t.sort,s.id=u,s.createTime=t.createTime)})},Z=async()=>{if(!s.name){b({message:"\u8BF7\u8F93\u5165\u4FEE\u6539\u7684\u9000\u8D27\u539F\u56E0",type:"error"});return}await Ue(s.id,{createTime:s.createTime,id:s.id,name:s.name,sort:s.sort,status:s.status==!1?0:1}),p(),r.value=!1};return(u,t)=>{const V=ve,ee=ye,te=ze("document"),ae=ne,m=he,_=pe,D=de,oe=_e,le=Ee,se=Fe,ue=fe,y=ce,g=re,I=me,Y=ie;return Ve(),De(xe,null,[i("div",Ye,[e(ee,{separator:"/"},{default:o(()=>[e(V,{to:{path:"/index/home"}},{default:o(()=>[Pe]),_:1}),e(V,{to:{path:"/oms"}},{default:o(()=>[je]),_:1}),e(V,null,{default:o(()=>[Le]),_:1})]),_:1}),Me]),i("div",Ne,[i("div",$e,[i("div",He,[e(ae,{style:{"vertical-align":"middle"}},{default:o(()=>[e(te)]),_:1}),qe]),e(m,{plain:!0,onClick:O},{default:o(()=>[Oe]),_:1})]),i("div",We,[e(oe,{data:l(B),style:{width:"100%"},border:!0,"table-layout":"auto",onSelectionChange:H},{default:o(()=>[e(_,{type:"selection",width:"55",align:"center"}),e(_,{align:"center",property:"id",label:"\u7F16\u53F7",width:"100"}),e(_,{align:"center",property:"name",label:"\u539F\u56E0\u7C7B\u578B"}),e(_,{property:"sort",label:"\u6392\u5E8F","show-overflow-tooltip":"",width:"100",align:"center"}),e(_,{property:"status",label:"\u662F\u5426\u53EF\u7528",align:"center"},{default:o(a=>[e(D,{"model-value":a.row.status===1,onChange:P=>N(a.row.id,a.row.status?0:1)},null,8,["model-value","onChange"])]),_:1}),e(_,{property:"createTime",label:"\u6DFB\u52A0\u65F6\u95F4",width:"200",align:"center"},{default:o(a=>[i("span",null,Re(l(Ce)(a.row.createTime).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(_,{property:"address",label:"\u64CD\u4F5C",align:"center",width:"180",fixed:"right"},{default:o(a=>[e(m,{size:"small",onClick:P=>X(a.row.id)},{default:o(()=>[Ge]),_:2},1032,["onClick"]),e(m,{size:"small",onClick:P=>$(a.row.id)},{default:o(()=>[Je]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),i("div",Ke,[i("div",null,[e(se,{modelValue:l(A).region,"onUpdate:modelValue":t[0]||(t[0]=a=>l(A).region=a),placeholder:"\u6279\u91CF\u5220\u9664"},{default:o(()=>[e(le,{label:"\u6279\u91CF\u5220\u9664",value:"shanghai"})]),_:1},8,["modelValue"]),e(m,{type:"primary",style:{"margin-left":"20px"},onClick:q},{default:o(()=>[Qe]),_:1})]),e(ue,{currentPage:U.value,"onUpdate:currentPage":t[1]||(t[1]=a=>U.value=a),"page-size":z.value,"onUpdate:page-size":t[2]||(t[2]=a=>z.value=a),"page-sizes":[5,10,15],small:G.value,disabled:J.value,layout:"total, sizes, prev, pager, next, jumper",total:l(T),onSizeChange:K,onCurrentChange:Q,background:"",class:"mt-4"},null,8,["currentPage","page-size","small","disabled","total"])])])]),e(Y,{modelValue:F.value,"onUpdate:modelValue":t[7]||(t[7]=a=>F.value=a),title:"\u6DFB\u52A0\u9000\u8D27\u539F\u56E0"},{footer:o(()=>[i("span",Xe,[e(m,{onClick:t[6]||(t[6]=a=>F.value=!1)},{default:o(()=>[Ze]),_:1}),e(m,{type:"primary",onClick:W},{default:o(()=>[et]),_:1})])]),default:o(()=>[e(I,{model:l(n)},{default:o(()=>[e(g,{label:"\u539F\u56E0\u7C7B\u578B:","label-width":f},{default:o(()=>[e(y,{modelValue:l(n).name,"onUpdate:modelValue":t[3]||(t[3]=a=>l(n).name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(g,{label:"\u6392\u5E8F:","label-width":f},{default:o(()=>[e(y,{modelValue:l(n).sort,"onUpdate:modelValue":t[4]||(t[4]=a=>l(n).sort=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(g,{label:"\u662F\u5426\u542F\u7528:","label-width":f},{default:o(()=>[e(D,{modelValue:l(n).status,"onUpdate:modelValue":t[5]||(t[5]=a=>l(n).status=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(Y,{modelValue:l(r),"onUpdate:modelValue":t[12]||(t[12]=a=>j(r)?r.value=a:r=a),title:"\u4FEE\u6539\u9000\u8D27\u539F\u56E0"},{footer:o(()=>[i("span",tt,[e(m,{onClick:t[11]||(t[11]=a=>j(r)?r.value=!1:r=!1)},{default:o(()=>[at]),_:1}),e(m,{type:"primary",onClick:Z},{default:o(()=>[ot]),_:1})])]),default:o(()=>[e(I,{model:l(s)},{default:o(()=>[e(g,{label:"\u539F\u56E0\u7C7B\u578B:","label-width":f},{default:o(()=>[e(y,{modelValue:l(s).name,"onUpdate:modelValue":t[8]||(t[8]=a=>l(s).name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(g,{label:"\u6392\u5E8F:","label-width":f},{default:o(()=>[e(y,{modelValue:l(s).sort,"onUpdate:modelValue":t[9]||(t[9]=a=>l(s).sort=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(g,{label:"\u662F\u5426\u542F\u7528:","label-width":f},{default:o(()=>[e(D,{modelValue:l(s).status,"onUpdate:modelValue":t[10]||(t[10]=a=>l(s).status=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});var gt=be(lt,[["__scopeId","data-v-2c97c9ee"]]);export{gt as default};
